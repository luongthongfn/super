{"version":3,"sources":["src/js/entry/node_modules/browser-pack/_prelude.js","src/js/entry/src/js/entry/adminSlideUpload.js"],"names":[],"mappings":"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","file":"../supper/adminSlideUpload.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","$(function () {\n    var render = (function () {\n        var i = 0;\n        return function () {\n            i++;\n            var template = `\n            <li id='item-${i}'>\n                <span class='delete'>&times;</span>\n                <input type='hidden' name='owl_slide[img][]' class='hidden_input_img'>\n                <label class='pickfile'>\n                    <input class='pick_img' type='button'>\n                </label>\n                <input type='hidden' name='owl_slide[thumb][]' class='hidden_input_thumb'>\n                <label class='pickthumb'>\n                    <input class='pick_thumb' type='button'>\n                </label>\n                <label>\n                    <span>Slide title</span>\n                    <input type='text' name='owl_slide[title][]'>\n                </label>\n                <label>\n                    <span>Slide Desc</span>\n                    <input type='text' name='owl_slide[desc][]'>\n                </label>\n                <label>\n                    <span>Slide link</span>\n                    <input type='text' name='owl_slide[link][]'>\n                </label>\n            </li>\n            `;\n            $('.owl-list').append(template);\n        }\n    })()\n    $('.add-item').click(render);\n    $('.owl-list').on('click', '.delete', function () {\n        $(this).parent().remove()\n    })\n\n\n    $('.owl-list').on('click', '.pick_img', function (event) {\n        var _this = $(this),\n            setto = $(this).parents('li').find('.hidden_input_img');\n\n        event.preventDefault();\n\n        if (file_frame) {\n            file_frame.open();\n            return;\n        }\n\n        var file_frame = wp.media.frames.file_frame = wp.media({\n            title: 'Select Images',\n            library: {},\n            button: {\n                text: 'Select slide img'\n            },\n            multiple: false\n        });\n\n        /*\n         * Select images if it is selected, after you click button \"pick_images\" again\n         */\n        file_frame.on('open', function () {\n            var prev_img_id = setto.val(),\n                prev_img_id = prev_img_id.split(','),\n                selection = file_frame.state().get('selection');\n\n            $.each(prev_img_id, function (index, el) {\n                var attachment = wp.media.attachment(el);\n                !!attachment ? attachment.fetch() : null;\n                selection.add(attachment ? [attachment] : []);\n            });\n\n        });\n\n        // Select images event\n        file_frame.on('select', function () {\n            var attachment = file_frame.state().get('selection').toJSON(),\n                imgs_url = '',\n                attachment_ids = [];\n\n            $.each(attachment, function (index, item) {\n                attachment_ids.push(item.id);\n                imgs_url = item.url;\n            });\n            _this.parent().css('background-image', `url(${imgs_url})`)\n            setto.val(attachment_ids.join(','))\n\n        });\n        file_frame.open();\n    })\n    $('.owl-list').on('click', '.pick_thumb', function (event) {\n        var _this = $(this),\n            setto = $(this).parents('li').find('.hidden_input_thumb');\n\n        event.preventDefault();\n\n        if (file_frame) {\n            file_frame.open();\n            return;\n        }\n\n        var file_frame = wp.media.frames.file_frame = wp.media({\n            title: 'Select Images',\n            library: {},\n            button: {\n                text: 'Select slide thumb'\n            },\n            multiple: false\n        });\n\n        /*\n         * Select images if it is selected, after you click button \"pick_images\" again\n         */\n        file_frame.on('open', function () {\n            var prev_img_id = setto.val(),\n                prev_img_id = prev_img_id.split(','),\n                selection = file_frame.state().get('selection');\n\n            $.each(prev_img_id, function (index, el) {\n                var attachment = wp.media.attachment(el);\n                !!attachment ? attachment.fetch() : null;\n                selection.add(attachment ? [attachment] : []);\n            });\n\n        });\n\n        // Select images event\n        file_frame.on('select', function () {\n            var attachment = file_frame.state().get('selection').toJSON(),\n                imgs_url = '',\n                attachment_ids = [];\n\n            $.each(attachment, function (index, item) {\n                attachment_ids.push(item.id);\n                imgs_url = item.url;\n            });\n            _this.parent().css('background-image', `url(${imgs_url})`)\n            setto.val(attachment_ids.join(','))\n\n        });\n        file_frame.open();\n    })\n\n\n})\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvZW50cnkvYWRtaW5TbGlkZVVwbG9hZC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQUEsQ0FBQyxDQUFDLFlBQVk7QUFDVixNQUFJLE1BQU0sR0FBSSxZQUFZO0FBQ3RCLFFBQUksQ0FBQyxHQUFHLENBQVI7QUFDQSxXQUFPLFlBQVk7QUFDZixNQUFBLENBQUM7QUFDRCxVQUFJLFFBQVEsd0NBQ0csQ0FESCw0L0JBQVo7QUF5QkEsTUFBQSxDQUFDLENBQUMsV0FBRCxDQUFELENBQWUsTUFBZixDQUFzQixRQUF0QjtBQUNILEtBNUJEO0FBNkJILEdBL0JZLEVBQWI7O0FBZ0NBLEVBQUEsQ0FBQyxDQUFDLFdBQUQsQ0FBRCxDQUFlLEtBQWYsQ0FBcUIsTUFBckI7QUFDQSxFQUFBLENBQUMsQ0FBQyxXQUFELENBQUQsQ0FBZSxFQUFmLENBQWtCLE9BQWxCLEVBQTJCLFNBQTNCLEVBQXNDLFlBQVk7QUFDOUMsSUFBQSxDQUFDLENBQUMsSUFBRCxDQUFELENBQVEsTUFBUixHQUFpQixNQUFqQjtBQUNILEdBRkQ7QUFLQSxFQUFBLENBQUMsQ0FBQyxXQUFELENBQUQsQ0FBZSxFQUFmLENBQWtCLE9BQWxCLEVBQTJCLFdBQTNCLEVBQXdDLFVBQVUsS0FBVixFQUFpQjtBQUNyRCxRQUFJLEtBQUssR0FBRyxDQUFDLENBQUMsSUFBRCxDQUFiO0FBQUEsUUFDSSxLQUFLLEdBQUcsQ0FBQyxDQUFDLElBQUQsQ0FBRCxDQUFRLE9BQVIsQ0FBZ0IsSUFBaEIsRUFBc0IsSUFBdEIsQ0FBMkIsbUJBQTNCLENBRFo7O0FBR0EsSUFBQSxLQUFLLENBQUMsY0FBTjs7QUFFQSxRQUFJLFVBQUosRUFBZ0I7QUFDWixNQUFBLFVBQVUsQ0FBQyxJQUFYO0FBQ0E7QUFDSDs7QUFFRCxRQUFJLFVBQVUsR0FBRyxFQUFFLENBQUMsS0FBSCxDQUFTLE1BQVQsQ0FBZ0IsVUFBaEIsR0FB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QSxVQUFVLENBQUMsSUFBWDtBQUNILEdBbkREO0FBc0RILENBakpBLENBQUQiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCIkKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcmVuZGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgdmFyIHRlbXBsYXRlID0gYFxuICAgICAgICAgICAgPGxpIGlkPSdpdGVtLSR7aX0nPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSdkZWxldGUnPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9J2hpZGRlbicgbmFtZT0nb3dsX3NsaWRlW2ltZ11bXScgY2xhc3M9J2hpZGRlbl9pbnB1dF9pbWcnPlxuICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz0ncGlja2ZpbGUnPlxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3M9J3BpY2tfaW1nJyB0eXBlPSdidXR0b24nPlxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9J2hpZGRlbicgbmFtZT0nb3dsX3NsaWRlW3RodW1iXVtdJyBjbGFzcz0naGlkZGVuX2lucHV0X3RodW1iJz5cbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9J3BpY2t0aHVtYic+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz0ncGlja190aHVtYicgdHlwZT0nYnV0dG9uJz5cbiAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgIDxsYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+U2xpZGUgdGl0bGU8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSd0ZXh0JyBuYW1lPSdvd2xfc2xpZGVbdGl0bGVdW10nPlxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPGxhYmVsPlxuICAgICAgICAgICAgICAgICAgICA8c3Bhbj5TbGlkZSBEZXNjPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0ndGV4dCcgbmFtZT0nb3dsX3NsaWRlW2Rlc2NdW10nPlxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPGxhYmVsPlxuICAgICAgICAgICAgICAgICAgICA8c3Bhbj5TbGlkZSBsaW5rPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0ndGV4dCcgbmFtZT0nb3dsX3NsaWRlW2xpbmtdW10nPlxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgYDtcbiAgICAgICAgICAgICQoJy5vd2wtbGlzdCcpLmFwcGVuZCh0ZW1wbGF0ZSk7XG4gICAgICAgIH1cbiAgICB9KSgpXG4gICAgJCgnLmFkZC1pdGVtJykuY2xpY2socmVuZGVyKTtcbiAgICAkKCcub3dsLWxpc3QnKS5vbignY2xpY2snLCAnLmRlbGV0ZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJCh0aGlzKS5wYXJlbnQoKS5yZW1vdmUoKVxuICAgIH0pXG5cblxuICAgICQoJy5vd2wtbGlzdCcpLm9uKCdjbGljaycsICcucGlja19pbWcnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gJCh0aGlzKSxcbiAgICAgICAgICAgIHNldHRvID0gJCh0aGlzKS5wYXJlbnRzKCdsaScpLmZpbmQoJy5oaWRkZW5faW5wdXRfaW1nJyk7XG5cbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICBpZiAoZmlsZV9mcmFtZSkge1xuICAgICAgICAgICAgZmlsZV9mcmFtZS5vcGVuKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZmlsZV9mcmFtZSA9IHdwLm1lZGlhLmZyYW1lcy5maWxlX2ZyYW1lID0gd3AubWVkaWEoe1xuICAgICAgICAgICAgdGl0bGU6ICdTZWxlY3QgSW1hZ2VzJyxcbiAgICAgICAgICAgIGxpYnJhcnk6IHt9LFxuICAgICAgICAgICAgYnV0dG9uOiB7XG4gICAgICAgICAgICAgICAgdGV4dDogJ1NlbGVjdCBzbGlkZSBpbWcnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbXVsdGlwbGU6IGZhbHNlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8qXG4gICAgICAgICAqIFNlbGVjdCBpbWFnZXMgaWYgaXQgaXMgc2VsZWN0ZWQsIGFmdGVyIHlvdSBjbGljayBidXR0b24gXCJwaWNrX2ltYWdlc1wiIGFnYWluXG4gICAgICAgICAqL1xuICAgICAgICBmaWxlX2ZyYW1lLm9uKCdvcGVuJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHByZXZfaW1nX2lkID0gc2V0dG8udmFsKCksXG4gICAgICAgICAgICAgICAgcHJldl9pbWdfaWQgPSBwcmV2X2ltZ19pZC5zcGxpdCgnLCcpLFxuICAgICAgICAgICAgICAgIHNlbGVjdGlvbiA9IGZpbGVfZnJhbWUuc3RhdGUoKS5nZXQoJ3NlbGVjdGlvbicpO1xuXG4gICAgICAgICAgICAkLmVhY2gocHJldl9pbWdfaWQsIGZ1bmN0aW9uIChpbmRleCwgZWwpIHtcbiAgICAgICAgICAgICAgICB2YXIgYXR0YWNobWVudCA9IHdwLm1lZGlhLmF0dGFjaG1lbnQoZWwpO1xuICAgICAgICAgICAgICAgICEhYXR0YWNobWVudCA/IGF0dGFjaG1lbnQuZmV0Y2goKSA6IG51bGw7XG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uLmFkZChhdHRhY2htZW50ID8gW2F0dGFjaG1lbnRdIDogW10pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gU2VsZWN0IGltYWdlcyBldmVudFxuICAgICAgICBmaWxlX2ZyYW1lLm9uKCdzZWxlY3QnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgYXR0YWNobWVudCA9IGZpbGVfZnJhbWUuc3RhdGUoKS5nZXQoJ3NlbGVjdGlvbicpLnRvSlNPTigpLFxuICAgICAgICAgICAgICAgIGltZ3NfdXJsID0gJycsXG4gICAgICAgICAgICAgICAgYXR0YWNobWVudF9pZHMgPSBbXTtcblxuICAgICAgICAgICAgJC5lYWNoKGF0dGFjaG1lbnQsIGZ1bmN0aW9uIChpbmRleCwgaXRlbSkge1xuICAgICAgICAgICAgICAgIGF0dGFjaG1lbnRfaWRzLnB1c2goaXRlbS5pZCk7XG4gICAgICAgICAgICAgICAgaW1nc191cmwgPSBpdGVtLnVybDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgX3RoaXMucGFyZW50KCkuY3NzKCdiYWNrZ3JvdW5kLWltYWdlJywgYHVybCgke2ltZ3NfdXJsfSlgKVxuICAgICAgICAgICAgc2V0dG8udmFsKGF0dGFjaG1lbnRfaWRzLmpvaW4oJywnKSlcblxuICAgICAgICB9KTtcbiAgICAgICAgZmlsZV9mcmFtZS5vcGVuKCk7XG4gICAgfSlcbiAgICAkKCcub3dsLWxpc3QnKS5vbignY2xpY2snLCAnLnBpY2tfdGh1bWInLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gJCh0aGlzKSxcbiAgICAgICAgICAgIHNldHRvID0gJCh0aGlzKS5wYXJlbnRzKCdsaScpLmZpbmQoJy5oaWRkZW5faW5wdXRfdGh1bWInKTtcblxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIGlmIChmaWxlX2ZyYW1lKSB7XG4gICAgICAgICAgICBmaWxlX2ZyYW1lLm9wZW4oKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBmaWxlX2ZyYW1lID0gd3AubWVkaWEuZnJhbWVzLmZpbGVfZnJhbWUgPSB3cC5tZWRpYSh7XG4gICAgICAgICAgICB0aXRsZTogJ1NlbGVjdCBJbWFnZXMnLFxuICAgICAgICAgICAgbGlicmFyeToge30sXG4gICAgICAgICAgICBidXR0b246IHtcbiAgICAgICAgICAgICAgICB0ZXh0OiAnU2VsZWN0IHNsaWRlIHRodW1iJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG11bHRpcGxlOiBmYWxzZVxuICAgICAgICB9KTtcblxuICAgICAgICAvKlxuICAgICAgICAgKiBTZWxlY3QgaW1hZ2VzIGlmIGl0IGlzIHNlbGVjdGVkLCBhZnRlciB5b3UgY2xpY2sgYnV0dG9uIFwicGlja19pbWFnZXNcIiBhZ2FpblxuICAgICAgICAgKi9cbiAgICAgICAgZmlsZV9mcmFtZS5vbignb3BlbicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBwcmV2X2ltZ19pZCA9IHNldHRvLnZhbCgpLFxuICAgICAgICAgICAgICAgIHByZXZfaW1nX2lkID0gcHJldl9pbWdfaWQuc3BsaXQoJywnKSxcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb24gPSBmaWxlX2ZyYW1lLnN0YXRlKCkuZ2V0KCdzZWxlY3Rpb24nKTtcblxuICAgICAgICAgICAgJC5lYWNoKHByZXZfaW1nX2lkLCBmdW5jdGlvbiAoaW5kZXgsIGVsKSB7XG4gICAgICAgICAgICAgICAgdmFyIGF0dGFjaG1lbnQgPSB3cC5tZWRpYS5hdHRhY2htZW50KGVsKTtcbiAgICAgICAgICAgICAgICAhIWF0dGFjaG1lbnQgPyBhdHRhY2htZW50LmZldGNoKCkgOiBudWxsO1xuICAgICAgICAgICAgICAgIHNlbGVjdGlvbi5hZGQoYXR0YWNobWVudCA/IFthdHRhY2htZW50XSA6IFtdKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFNlbGVjdCBpbWFnZXMgZXZlbnRcbiAgICAgICAgZmlsZV9mcmFtZS5vbignc2VsZWN0JywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGF0dGFjaG1lbnQgPSBmaWxlX2ZyYW1lLnN0YXRlKCkuZ2V0KCdzZWxlY3Rpb24nKS50b0pTT04oKSxcbiAgICAgICAgICAgICAgICBpbWdzX3VybCA9ICcnLFxuICAgICAgICAgICAgICAgIGF0dGFjaG1lbnRfaWRzID0gW107XG5cbiAgICAgICAgICAgICQuZWFjaChhdHRhY2htZW50LCBmdW5jdGlvbiAoaW5kZXgsIGl0ZW0pIHtcbiAgICAgICAgICAgICAgICBhdHRhY2htZW50X2lkcy5wdXNoKGl0ZW0uaWQpO1xuICAgICAgICAgICAgICAgIGltZ3NfdXJsID0gaXRlbS51cmw7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIF90aGlzLnBhcmVudCgpLmNzcygnYmFja2dyb3VuZC1pbWFnZScsIGB1cmwoJHtpbWdzX3VybH0pYClcbiAgICAgICAgICAgIHNldHRvLnZhbChhdHRhY2htZW50X2lkcy5qb2luKCcsJykpXG5cbiAgICAgICAgfSk7XG4gICAgICAgIGZpbGVfZnJhbWUub3BlbigpO1xuICAgIH0pXG5cblxufSlcbiJdfQ=="}