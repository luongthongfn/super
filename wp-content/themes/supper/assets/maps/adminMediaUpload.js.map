{"version":3,"sources":["src/js/entry/node_modules/browser-pack/_prelude.js","src/js/entry/src/js/entry/adminMediaUpload.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","jQuery","document","ready","$","attachment_feature_ids","click","event","preventDefault","file_frame","wp","media","frames","title","library","button","text","multiple","on","images","val","split","selection","state","get","each","index","el","attachment","fetch","add","toJSON","imgs_html","item","push","id","url","join","html","this","data","filter","parent","remove","open","attachment_icon_ids"],"mappings":"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","file":"../supper/adminMediaUpload.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","jQuery(document).ready(function ($) {\n    /*\n    We have a button which has id attribute \"pick_images\"\n    When click the button, the wp media popup show. We choose images and press Select (like set featured image)\n    */\n   //feature media upload\n    var attachment_feature_ids = [];\n    $('#pick_feature').click(function (event) {\n        event.preventDefault(); // Prevent reload page when click the button\n\n        // Initialize.\n        var file_frame = wp.media.frames.file_frame = wp.media({\n            title: 'Select Images', // The title of frame\n            library: {}, // Library of images, like as post\n            button: {\n                text: 'Select'\n            },\n            multiple: false // Enable select multiple\n        });\n\n        /*\n         * Select images if it is selected, after you click button \"pick_images\" again\n         */\n        file_frame.on('open', function () {\n            var images = $('#feature_input').val();\n            images = images.split(','); // Get all images id and split to an array\n\n            // And select it\n            var selection = file_frame.state().get('selection');\n\n            $.each(images, function (index, el) {\n                var attachment = wp.media.attachment(el);\n                !!attachment ? attachment.fetch() : null;\n                selection.add(attachment ? [attachment] : []);\n            });\n        });\n\n        // Select images event\n        file_frame.on('select', function () {\n            var attachment = file_frame.state().get('selection').toJSON(),\n                imgs_html = '';\n\n\n            // Each selected image, push the id of image to an array and show image\n            $.each(attachment, function (index, item) {\n                attachment_feature_ids.push(item.id);\n                imgs_html += '<li data-image-id=\"' + item.id + '\">';\n                imgs_html += '<img src=\"' + item.url + '\" />';\n                imgs_html += '<span class=\"dashicons dashicons-dismiss\" data-id=' + item.id + '></span>'; // Button to remove image\n                imgs_html += '</li>';\n            });\n\n            $('#feature_input').val(attachment_feature_ids.join(',')); // List of all images\n            $('#display_feature').html(imgs_html); // Show images\n        });\n        $('#display_feature').on('click', '.dashicons-dismiss', function () {\n            var id = $(this).data('id');\n\n            attachment_feature_ids = attachment_feature_ids.filter(function (item) {\n                return item != id\n            })\n            $('#feature_input').val(attachment_feature_ids.join(','));\n            $(this).parent('li').remove();\n\n        })\n        // Open media popup\n        file_frame.open();\n    });\n\n    //icon media upload\n    var attachment_icon_ids = [];\n    $('#pick_icon').click(function (event) {\n        event.preventDefault(); // Prevent reload page when click the button\n\n        // Initialize.\n        var file_frame = wp.media.frames.file_frame = wp.media({\n            title: 'Select Images', // The title of frame\n            library: {}, // Library of images, like as post\n            button: {\n                text: 'Select'\n            },\n            multiple: false // Enable select multiple\n        });\n\n        /*\n         * Select images if it is selected, after you click button \"pick_images\" again\n         */\n        file_frame.on('open', function () {\n            var images = $('#icon_input').val();\n            images = images.split(','); // Get all images id and split to an array\n\n            // And select it\n            var selection = file_frame.state().get('selection');\n\n            $.each(images, function (index, el) {\n                var attachment = wp.media.attachment(el);\n                !!attachment ? attachment.fetch() : null;\n                selection.add(attachment ? [attachment] : []);\n            });\n        });\n\n        // Select images event\n        file_frame.on('select', function () {\n            var attachment = file_frame.state().get('selection').toJSON(),\n                imgs_html = '';\n\n\n            // Each selected image, push the id of image to an array and show image\n            $.each(attachment, function (index, item) {\n                attachment_icon_ids.push(item.id);\n                imgs_html += '<li data-image-id=\"' + item.id + '\">';\n                imgs_html += '<img src=\"' + item.url + '\" />';\n                imgs_html += '<span class=\"dashicons dashicons-dismiss\" data-id=' + item.id + '></span>'; // Button to remove image\n                imgs_html += '</li>';\n            });\n\n            $('#icon_input').val(attachment_icon_ids.join(',')); // List of all images\n            $('#display_icon').html(imgs_html); // Show images\n        });\n        $('#display_icon').on('click', '.dashicons-dismiss', function () {\n            var id = $(this).data('id');\n\n            attachment_icon_ids = attachment_icon_ids.filter(function (item) {\n                return item != id\n            })\n            $('#icon_input').val(attachment_icon_ids.join(','));\n            $(this).parent('li').remove();\n\n        })\n        // Open media popup\n        file_frame.open();\n    });\n});\n"]}