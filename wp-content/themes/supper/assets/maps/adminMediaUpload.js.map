{"version":3,"sources":["src/js/entry/node_modules/browser-pack/_prelude.js","src/js/entry/src/js/entry/adminMediaUpload.js"],"names":[],"mappings":"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","file":"../supper/adminMediaUpload.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","jQuery(document).ready(function ($) {\n    /*\n    We have a button which has id attribute \"pick_images\"\n    When click the button, the wp media popup show. We choose images and press Select (like set featured image)\n    */\n   //feature media upload\n    var attachment_feature_ids = [];\n    $('#pick_feature').click(function (event) {\n        event.preventDefault(); // Prevent reload page when click the button\n\n        // Initialize.\n        var file_frame = wp.media.frames.file_frame = wp.media({\n            title: 'Select Images', // The title of frame\n            library: {}, // Library of images, like as post\n            button: {\n                text: 'Select feature img'\n            },\n            multiple: false // Enable select multiple\n        });\n\n        /*\n         * Select images if it is selected, after you click button \"pick_images\" again\n         */\n        file_frame.on('open', function () {\n            var images = $('#feature_input').val();\n            images = images.split(','); // Get all images id and split to an array\n\n            // And select it\n            var selection = file_frame.state().get('selection');\n\n            $.each(images, function (index, el) {\n                var attachment = wp.media.attachment(el);\n                !!attachment ? attachment.fetch() : null;\n                selection.add(attachment ? [attachment] : []);\n            });\n        });\n\n        // Select images event\n        file_frame.on('select', function () {\n            var attachment = file_frame.state().get('selection').toJSON(),\n                imgs_html = '';\n\n\n            // Each selected image, push the id of image to an array and show image\n            $.each(attachment, function (index, item) {\n                attachment_feature_ids.push(item.id);\n                imgs_html += '<li data-image-id=\"' + item.id + '\">';\n                imgs_html += '<img src=\"' + item.url + '\" />';\n                imgs_html += '<span class=\"dashicons dashicons-dismiss\" data-id=' + item.id + '></span>'; // Button to remove image\n                imgs_html += '</li>';\n            });\n\n            $('#feature_input').val(attachment_feature_ids.join(',')); // List of all images\n            $('#display_feature').html(imgs_html); // Show images\n        });\n        $('#display_feature').on('click', '.dashicons-dismiss', function () {\n            var id = $(this).data('id');\n\n            attachment_feature_ids = attachment_feature_ids.filter(function (item) {\n                return item != id\n            })\n            $('#feature_input').val(attachment_feature_ids.join(','));\n            $(this).parent('li').remove();\n\n        })\n        // Open media popup\n        file_frame.open();\n    });\n\n    //icon media upload\n    var attachment_icon_ids = [];\n    $('#pick_icon').click(function (event) {\n        event.preventDefault(); // Prevent reload page when click the button\n\n        // Initialize.\n        var file_frame = wp.media.frames.file_frame = wp.media({\n            title: 'Select Images', // The title of frame\n            library: {}, // Library of images, like as post\n            button: {\n                text: 'Select'\n            },\n            multiple: false // Enable select multiple\n        });\n\n        /*\n         * Select images if it is selected, after you click button \"pick_images\" again\n         */\n        file_frame.on('open', function () {\n            var images = $('#icon_input').val();\n            images = images.split(','); // Get all images id and split to an array\n\n            // And select it\n            var selection = file_frame.state().get('selection');\n\n            $.each(images, function (index, el) {\n                var attachment = wp.media.attachment(el);\n                !!attachment ? attachment.fetch() : null;\n                selection.add(attachment ? [attachment] : []);\n            });\n        });\n\n        // Select images event\n        file_frame.on('select', function () {\n            var attachment = file_frame.state().get('selection').toJSON(),\n                imgs_html = '';\n\n\n            // Each selected image, push the id of image to an array and show image\n            $.each(attachment, function (index, item) {\n                attachment_icon_ids.push(item.id);\n                imgs_html += '<li data-image-id=\"' + item.id + '\">';\n                imgs_html += '<img src=\"' + item.url + '\" />';\n                imgs_html += '<span class=\"dashicons dashicons-dismiss\" data-id=' + item.id + '></span>'; // Button to remove image\n                imgs_html += '</li>';\n            });\n\n            $('#icon_input').val(attachment_icon_ids.join(',')); // List of all images\n            $('#display_icon').html(imgs_html); // Show images\n        });\n        $('#display_icon').on('click', '.dashicons-dismiss', function () {\n            var id = $(this).data('id');\n\n            attachment_icon_ids = attachment_icon_ids.filter(function (item) {\n                return item != id\n            })\n            $('#icon_input').val(attachment_icon_ids.join(','));\n            $(this).parent('li').remove();\n\n        })\n        // Open media popup\n        file_frame.open();\n    });\n});\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvZW50cnkvYWRtaW5NZWRpYVVwbG9hZC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQUEsTUFBTSxDQUFDLFFBQUQsQ0FBTixDQUFpQixLQUFqQixDQUF1QixVQUFVLENBQVYsRUFBYTtBQUNoQzs7OztBQUlEO0FBQ0MsTUFBSSxzQkFBc0IsR0FBRyxFQUE3QjtBQUNBLEVBQUEsQ0FBQyxDQUFDLGVBQUQsQ0FBRCxDQUFtQixLQUFuQixDQUF5QixVQUFVLEtBQVYsRUFBaUI7QUFDdEMsSUFBQSxLQUFLLENBQUMsY0FBTixHQURzQyxDQUNkO0FBRXhCOztBQUNBLFFBQUksVUFBVSxHQUFHLEVBQUUsQ0FBQyxLQUFILENBQVMsTUFBVCxDQUFnQixVQUFoQixHQUE2QixFQUFFLENBQUMsS0FBSCxDQUFTO0FBQ25ELE1BQUEsS0FBSyxFQUFFLGVBRDRDO0FBQzNCO0FBQ3hCLE1BQUEsT0FBTyxFQUFFLEVBRjBDO0FBRXRDO0FBQ2IsTUFBQSxNQUFNLEVBQUU7QUFDSixRQUFBLElBQUksRUFBRTtBQURGLE9BSDJDO0FBTW5ELE1BQUEsUUFBUSxFQUFFLEtBTnlDLENBTW5DOztBQU5tQyxLQUFULENBQTlDO0FBU0E7Ozs7QUFHQSxJQUFBLFVBQVUsQ0FBQyxFQUFYLENBQWMsTUFBZCxFQUFzQixZQUFZO0FBQzlCLFVBQUksTUFBTSxHQUFHLENBQUMsQ0FBQyxnQkFBRCxDQUFELENBQW9CLEdBQXBCLEVBQWI7QUFDQSxNQUFBLE1BQU0sR0FBRyxNQUFNLENBQUMsS0FBUCxDQUFhLEdBQWIsQ0FBVCxDQUY4QixDQUVGO0FBRTVCOztBQUNBLFVBQUksU0FBUyxHQUFHLFVBQVUsQ0FBQyxLQUFYLEdBQW1CLEdBQW5CLENBQXVCLFdBQXZCLENBQWhCO0FBRUEsTUFBQSxDQUFDLENBQUMsSUFBRixDQUFPLE1BQVAsRUFBZSxVQUFVLEtBQVYsRUFBaUIsRUFBakIsRUFBcUI7QUFDaEMsWUFBSSxVQUFVLEdBQUcsRUFBRSxDQUFDLEtBQUgsQ0FBUyxVQUFULENBQW9CLEVBQXBCLENBQWpCO0FBQ0EsU0FBQyxDQUFDLFVBQUYsR0FBZSxVQUFVLENBQUMsS0FBWCxFQUFmLEdBQW9DLElBQXBDO0FBQ0EsUUFBQSxTQUFTLENBQUMsR0FBVixDQUFjLFVBQVUsR0FBRyxDQUFDLFVBQUQsQ0FBSCxHQUFrQixFQUExQztBQUNILE9BSkQ7QUFLSCxLQVpELEVBaEJzQyxDQThCdEM7O0FBQ0EsSUFBQSxVQUFVLENBQUMsRUFBWCxDQUFjLFFBQWQsRUFBd0IsWUFBWTtBQUNoQyxVQUFJLFVBQVUsR0FBRyxVQUFVLENBQUMsS0FBWCxHQUFtQixHQUFuQixDQUF1QixXQUF2QixFQUFvQyxNQUFwQyxFQUFqQjtBQUFBLFVBQ0ksU0FBUyxHQUFHLEVBRGhCLENBRGdDLENBS2hDOztBQUNBLE1BQUEsQ0FBQyxDQUFDLElBQUYsQ0FBTyxVQUFQLEVBQW1CLFVBQVUsS0FBVixFQUFpQixJQUFqQixFQUF1QjtBQUN0QyxRQUFBLHNCQUFzQixDQUFDLElBQXZCLENBQTRCLElBQUksQ0FBQyxFQUFqQztBQUNBLFFBQUEsU0FBUyxJQUFJLHdCQUF3QixJQUFJLENBQUMsRUFBN0IsR0FBa0MsSUFBL0M7QUFDQSxRQUFBLFNBQVMsSUFBSSxlQUFlLElBQUksQ0FBQyxHQUFwQixHQUEwQixNQUF2QztBQUNBLFFBQUEsU0FBUyxJQUFJLHVEQUF1RCxJQUFJLENBQUMsRUFBNUQsR0FBaUUsVUFBOUUsQ0FKc0MsQ0FJb0Q7O0FBQzFGLFFBQUEsU0FBUyxJQUFJLE9BQWI7QUFDSCxPQU5EO0FBUUEsTUFBQSxDQUFDLENBQUMsZ0JBQUQsQ0FBRCxDQUFvQixHQUFwQixDQUF3QixzQkFBc0IsQ0FBQyxJQUF2QixDQUE0QixHQUE1QixDQUF4QixFQWRnQyxDQWMyQjs7QUFDM0QsTUFBQSxDQUFDLENBQUMsa0JBQUQsQ0FBRCxDQUFzQixJQUF0QixDQUEyQixTQUEzQixFQWZnQyxDQWVPO0FBQzFDLEtBaEJEO0FBaUJBLElBQUEsQ0FBQyxDQUFDLGtCQUFELENBQUQsQ0FBc0IsRUFBdEIsQ0FBeUIsT0FBekIsRUFBa0Msb0JBQWxDLEVBQXdELFlBQVk7QUFDaEUsVUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDLElBQUQsQ0FBRCxDQUFRLElBQVIsQ0FBYSxJQUFiLENBQVQ7QUFFQSxNQUFBLHNCQUFzQixHQUFHLHNCQUFzQixDQUFDLE1BQXZCLENBQThCLFVBQVUsSUFBVixFQUFnQjtBQUNuRSxlQUFPLElBQUksSUFBSSxFQUFmO0FBQ0gsT0FGd0IsQ0FBekI7QUFHQSxNQUFBLENBQUMsQ0FBQyxnQkFBRCxDQUFELENBQW9CLEdBQXBCLENBQXdCLHNCQUFzQixDQUFDLElBQXZCLENBQTRCLEdBQTVCLENBQXhCO0FBQ0EsTUFBQSxDQUFDLENBQUMsSUFBRCxDQUFELENBQVEsTUFBUixDQUFlLElBQWYsRUFBcUIsTUFBckI7QUFFSCxLQVRELEVBaERzQyxDQTBEdEM7O0FBQ0EsSUFBQSxVQUFVLENBQUMsSUFBWDtBQUNILEdBNURELEVBUGdDLENBcUVoQzs7QUFDQSxNQUFJLG1CQUFtQixHQUFHLEVBQTFCO0FBQ0EsRUFBQSxDQUFDLENBQUMsWUFBRCxDQUFELENBQWdCLEtBQWhCLENBQXNCLFVBQVUsS0FBVixFQUFpQjtBQUNuQyxJQUFBLEtBQUssQ0FBQyxjQUFOLEdBRG1DLENBQ1g7QUFFeEI7O0FBQ0EsUUFBSSxVQUFVLEdBQUcsRUFBRSxDQUFDLEtBQUgsQ0FBUyxNQUFULENBQWdCLFVBQWhCLEdBQTZCLEVBQUUsQ0FBQyxLQUFILENBQVM7QUFDbkQsTUFBQSxLQUFLLEVBQUUsZUFENEM7QUFDM0I7QUFDeEIsTUFBQSxPQUFPLEVBQUUsRUFGMEM7QUFFdEM7QUFDYixNQUFBLE1BQU0sRUFBRTtBQUNKLFFBQUEsSUFBSSxFQUFFO0FBREYsT0FIMkM7QUFNbkQsTUFBQSxRQUFRLEVBQUUsS0FOeUMsQ0FNbkM7O0FBTm1DLEtBQVQsQ0FBOUM7QUFTQTs7OztBQUdBLElBQUEsVUFBVSxDQUFDLEVBQVgsQ0FBYyxNQUFkLEVBQXNCLFlBQVk7QUFDOUIsVUFBSSxNQUFNLEdBQUcsQ0FBQyxDQUFDLGFBQUQsQ0FBRCxDQUFpQixHQUFqQixFQUFiO0FBQ0EsTUFBQSxNQUFNLEdBQUcsTUFBTSxDQUFDLEtBQVAsQ0FBYSxHQUFiLENBQVQsQ0FGOEIsQ0FFRjtBQUU1Qjs7QUFDQSxVQUFJLFNBQVMsR0FBRyxVQUFVLENBQUMsS0FBWCxHQUFtQixHQUFuQixDQUF1QixXQUF2QixDQUFoQjtBQUVBLE1BQUEsQ0FBQyxDQUFDLElBQUYsQ0FBTyxNQUFQLEVBQWUsVUFBVSxLQUFWLEVBQWlCLEVBQWpCLEVBQXFCO0FBQ2hDLFlBQUksVUFBVSxHQUFHLEVBQUUsQ0FBQyxLQUFILENBQVMsVUFBVCxDQUFvQixFQUFwQixDQUFqQjtBQUNBLFNBQUMsQ0FBQyxVQUFGLEdBQWUsVUFBVSxDQUFDLEtBQVgsRUFBZixHQUFvQyxJQUFwQztBQUNBLFFBQUEsU0FBUyxDQUFDLEdBQVYsQ0FBYyxVQUFVLEdBQUcsQ0FBQyxVQUFELENBQUgsR0FBa0IsRUFBMUM7QUFDSCxPQUpEO0FBS0gsS0FaRCxFQWhCbUMsQ0E4Qm5DOztBQUNBLElBQUEsVUFBVSxDQUFDLEVBQVgsQ0FBYyxRQUFkLEVBQXdCLFlBQVk7QUFDaEMsVUFBSSxVQUFVLEdBQUcsVUFBVSxDQUFDLEtBQVgsR0FBbUIsR0FBbkIsQ0FBdUIsV0FBdkIsRUFBb0MsTUFBcEMsRUFBakI7QUFBQSxVQUNJLFNBQVMsR0FBRyxFQURoQixDQURnQyxDQUtoQzs7QUFDQSxNQUFBLENBQUMsQ0FBQyxJQUFGLENBQU8sVUFBUCxFQUFtQixVQUFVLEtBQVYsRUFBaUIsSUFBakIsRUFBdUI7QUFDdEMsUUFBQSxtQkFBbUIsQ0FBQyxJQUFwQixDQUF5QixJQUFJLENBQUMsRUFBOUI7QUFDQSxRQUFBLFNBQVMsSUFBSSx3QkFBd0IsSUFBSSxDQUFDLEVBQTdCLEdBQWtDLElBQS9DO0FBQ0EsUUFBQSxTQUFTLElBQUksZUFBZSxJQUFJLENBQUMsR0FBcEIsR0FBMEIsTUFBdkM7QUFDQSxRQUFBLFNBQVMsSUFBSSx1REFBdUQsSUFBSSxDQUFDLEVBQTVELEdBQWlFLFVBQTlFLENBSnNDLENBSW9EOztBQUMxRixRQUFBLFNBQVMsSUFBSSxPQUFiO0FBQ0gsT0FORDtBQVFBLE1BQUEsQ0FBQyxDQUFDLGFBQUQsQ0FBRCxDQUFpQixHQUFqQixDQUFxQixtQkFBbUIsQ0FBQyxJQUFwQixDQUF5QixHQUF6QixDQUFyQixFQWRnQyxDQWNxQjs7QUFDckQsTUFBQSxDQUFDLENBQUMsZUFBRCxDQUFELENBQW1CLElBQW5CLENBQXdCLFNBQXhCLEVBZmdDLENBZUk7QUFDdkMsS0FoQkQ7QUFpQkEsSUFBQSxDQUFDLENBQUMsZUFBRCxDQUFELENBQW1CLEVBQW5CLENBQXNCLE9BQXRCLEVBQStCLG9CQUEvQixFQUFxRCxZQUFZO0FBQzdELFVBQUksRUFBRSxHQUFHLENBQUMsQ0FBQyxJQUFELENBQUQsQ0FBUSxJQUFSLENBQWEsSUFBYixDQUFUO0FBRUEsTUFBQSxtQkFBbUIsR0FBRyxtQkFBbUIsQ0FBQyxNQUFwQixDQUEyQixVQUFVLElBQVYsRUFBZ0I7QUFDN0QsZUFBTyxJQUFJLElBQUksRUFBZjtBQUNILE9BRnFCLENBQXRCO0FBR0EsTUFBQSxDQUFDLENBQUMsYUFBRCxDQUFELENBQWlCLEdBQWpCLENBQXFCLG1CQUFtQixDQUFDLElBQXBCLENBQXlCLEdBQXpCLENBQXJCO0FBQ0EsTUFBQSxDQUFDLENBQUMsSUFBRCxDQUFELENBQVEsTUFBUixDQUFlLElBQWYsRUFBcUIsTUFBckI7QUFFSCxLQVRELEVBaERtQyxDQTBEbkM7O0FBQ0EsSUFBQSxVQUFVLENBQUMsSUFBWDtBQUNILEdBNUREO0FBNkRILENBcElEIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwialF1ZXJ5KGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoJCkge1xuICAgIC8qXG4gICAgV2UgaGF2ZSBhIGJ1dHRvbiB3aGljaCBoYXMgaWQgYXR0cmlidXRlIFwicGlja19pbWFnZXNcIlxuICAgIFdoZW4gY2xpY2sgdGhlIGJ1dHRvbiwgdGhlIHdwIG1lZGlhIHBvcHVwIHNob3cuIFdlIGNob29zZSBpbWFnZXMgYW5kIHByZXNzIFNlbGVjdCAobGlrZSBzZXQgZmVhdHVyZWQgaW1hZ2UpXG4gICAgKi9cbiAgIC8vZmVhdHVyZSBtZWRpYSB1cGxvYWRcbiAgICB2YXIgYXR0YWNobWVudF9mZWF0dXJlX2lkcyA9IFtdO1xuICAgICQoJyNwaWNrX2ZlYXR1cmUnKS5jbGljayhmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsgLy8gUHJldmVudCByZWxvYWQgcGFnZSB3aGVuIGNsaWNrIHRoZSBidXR0b25cblxuICAgICAgICAvLyBJbml0aWFsaXplLlxuICAgICAgICB2YXIgZmlsZV9mcmFtZSA9IHdwLm1lZGlhLmZyYW1lcy5maWxlX2ZyYW1lID0gd3AubWVkaWEoe1xuICAgICAgICAgICAgdGl0bGU6ICdTZWxlY3QgSW1hZ2VzJywgLy8gVGhlIHRpdGxlIG9mIGZyYW1lXG4gICAgICAgICAgICBsaWJyYXJ5OiB7fSwgLy8gTGlicmFyeSBvZiBpbWFnZXMsIGxpa2UgYXMgcG9zdFxuICAgICAgICAgICAgYnV0dG9uOiB7XG4gICAgICAgICAgICAgICAgdGV4dDogJ1NlbGVjdCBmZWF0dXJlIGltZydcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtdWx0aXBsZTogZmFsc2UgLy8gRW5hYmxlIHNlbGVjdCBtdWx0aXBsZVxuICAgICAgICB9KTtcblxuICAgICAgICAvKlxuICAgICAgICAgKiBTZWxlY3QgaW1hZ2VzIGlmIGl0IGlzIHNlbGVjdGVkLCBhZnRlciB5b3UgY2xpY2sgYnV0dG9uIFwicGlja19pbWFnZXNcIiBhZ2FpblxuICAgICAgICAgKi9cbiAgICAgICAgZmlsZV9mcmFtZS5vbignb3BlbicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBpbWFnZXMgPSAkKCcjZmVhdHVyZV9pbnB1dCcpLnZhbCgpO1xuICAgICAgICAgICAgaW1hZ2VzID0gaW1hZ2VzLnNwbGl0KCcsJyk7IC8vIEdldCBhbGwgaW1hZ2VzIGlkIGFuZCBzcGxpdCB0byBhbiBhcnJheVxuXG4gICAgICAgICAgICAvLyBBbmQgc2VsZWN0IGl0XG4gICAgICAgICAgICB2YXIgc2VsZWN0aW9uID0gZmlsZV9mcmFtZS5zdGF0ZSgpLmdldCgnc2VsZWN0aW9uJyk7XG5cbiAgICAgICAgICAgICQuZWFjaChpbWFnZXMsIGZ1bmN0aW9uIChpbmRleCwgZWwpIHtcbiAgICAgICAgICAgICAgICB2YXIgYXR0YWNobWVudCA9IHdwLm1lZGlhLmF0dGFjaG1lbnQoZWwpO1xuICAgICAgICAgICAgICAgICEhYXR0YWNobWVudCA/IGF0dGFjaG1lbnQuZmV0Y2goKSA6IG51bGw7XG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uLmFkZChhdHRhY2htZW50ID8gW2F0dGFjaG1lbnRdIDogW10pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFNlbGVjdCBpbWFnZXMgZXZlbnRcbiAgICAgICAgZmlsZV9mcmFtZS5vbignc2VsZWN0JywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGF0dGFjaG1lbnQgPSBmaWxlX2ZyYW1lLnN0YXRlKCkuZ2V0KCdzZWxlY3Rpb24nKS50b0pTT04oKSxcbiAgICAgICAgICAgICAgICBpbWdzX2h0bWwgPSAnJztcblxuXG4gICAgICAgICAgICAvLyBFYWNoIHNlbGVjdGVkIGltYWdlLCBwdXNoIHRoZSBpZCBvZiBpbWFnZSB0byBhbiBhcnJheSBhbmQgc2hvdyBpbWFnZVxuICAgICAgICAgICAgJC5lYWNoKGF0dGFjaG1lbnQsIGZ1bmN0aW9uIChpbmRleCwgaXRlbSkge1xuICAgICAgICAgICAgICAgIGF0dGFjaG1lbnRfZmVhdHVyZV9pZHMucHVzaChpdGVtLmlkKTtcbiAgICAgICAgICAgICAgICBpbWdzX2h0bWwgKz0gJzxsaSBkYXRhLWltYWdlLWlkPVwiJyArIGl0ZW0uaWQgKyAnXCI+JztcbiAgICAgICAgICAgICAgICBpbWdzX2h0bWwgKz0gJzxpbWcgc3JjPVwiJyArIGl0ZW0udXJsICsgJ1wiIC8+JztcbiAgICAgICAgICAgICAgICBpbWdzX2h0bWwgKz0gJzxzcGFuIGNsYXNzPVwiZGFzaGljb25zIGRhc2hpY29ucy1kaXNtaXNzXCIgZGF0YS1pZD0nICsgaXRlbS5pZCArICc+PC9zcGFuPic7IC8vIEJ1dHRvbiB0byByZW1vdmUgaW1hZ2VcbiAgICAgICAgICAgICAgICBpbWdzX2h0bWwgKz0gJzwvbGk+JztcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAkKCcjZmVhdHVyZV9pbnB1dCcpLnZhbChhdHRhY2htZW50X2ZlYXR1cmVfaWRzLmpvaW4oJywnKSk7IC8vIExpc3Qgb2YgYWxsIGltYWdlc1xuICAgICAgICAgICAgJCgnI2Rpc3BsYXlfZmVhdHVyZScpLmh0bWwoaW1nc19odG1sKTsgLy8gU2hvdyBpbWFnZXNcbiAgICAgICAgfSk7XG4gICAgICAgICQoJyNkaXNwbGF5X2ZlYXR1cmUnKS5vbignY2xpY2snLCAnLmRhc2hpY29ucy1kaXNtaXNzJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGlkID0gJCh0aGlzKS5kYXRhKCdpZCcpO1xuXG4gICAgICAgICAgICBhdHRhY2htZW50X2ZlYXR1cmVfaWRzID0gYXR0YWNobWVudF9mZWF0dXJlX2lkcy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbSAhPSBpZFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICQoJyNmZWF0dXJlX2lucHV0JykudmFsKGF0dGFjaG1lbnRfZmVhdHVyZV9pZHMuam9pbignLCcpKTtcbiAgICAgICAgICAgICQodGhpcykucGFyZW50KCdsaScpLnJlbW92ZSgpO1xuXG4gICAgICAgIH0pXG4gICAgICAgIC8vIE9wZW4gbWVkaWEgcG9wdXBcbiAgICAgICAgZmlsZV9mcmFtZS5vcGVuKCk7XG4gICAgfSk7XG5cbiAgICAvL2ljb24gbWVkaWEgdXBsb2FkXG4gICAgdmFyIGF0dGFjaG1lbnRfaWNvbl9pZHMgPSBbXTtcbiAgICAkKCcjcGlja19pY29uJykuY2xpY2soZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7IC8vIFByZXZlbnQgcmVsb2FkIHBhZ2Ugd2hlbiBjbGljayB0aGUgYnV0dG9uXG5cbiAgICAgICAgLy8gSW5pdGlhbGl6ZS5cbiAgICAgICAgdmFyIGZpbGVfZnJhbWUgPSB3cC5tZWRpYS5mcmFtZXMuZmlsZV9mcmFtZSA9IHdwLm1lZGlhKHtcbiAgICAgICAgICAgIHRpdGxlOiAnU2VsZWN0IEltYWdlcycsIC8vIFRoZSB0aXRsZSBvZiBmcmFtZVxuICAgICAgICAgICAgbGlicmFyeToge30sIC8vIExpYnJhcnkgb2YgaW1hZ2VzLCBsaWtlIGFzIHBvc3RcbiAgICAgICAgICAgIGJ1dHRvbjoge1xuICAgICAgICAgICAgICAgIHRleHQ6ICdTZWxlY3QnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbXVsdGlwbGU6IGZhbHNlIC8vIEVuYWJsZSBzZWxlY3QgbXVsdGlwbGVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLypcbiAgICAgICAgICogU2VsZWN0IGltYWdlcyBpZiBpdCBpcyBzZWxlY3RlZCwgYWZ0ZXIgeW91IGNsaWNrIGJ1dHRvbiBcInBpY2tfaW1hZ2VzXCIgYWdhaW5cbiAgICAgICAgICovXG4gICAgICAgIGZpbGVfZnJhbWUub24oJ29wZW4nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgaW1hZ2VzID0gJCgnI2ljb25faW5wdXQnKS52YWwoKTtcbiAgICAgICAgICAgIGltYWdlcyA9IGltYWdlcy5zcGxpdCgnLCcpOyAvLyBHZXQgYWxsIGltYWdlcyBpZCBhbmQgc3BsaXQgdG8gYW4gYXJyYXlcblxuICAgICAgICAgICAgLy8gQW5kIHNlbGVjdCBpdFxuICAgICAgICAgICAgdmFyIHNlbGVjdGlvbiA9IGZpbGVfZnJhbWUuc3RhdGUoKS5nZXQoJ3NlbGVjdGlvbicpO1xuXG4gICAgICAgICAgICAkLmVhY2goaW1hZ2VzLCBmdW5jdGlvbiAoaW5kZXgsIGVsKSB7XG4gICAgICAgICAgICAgICAgdmFyIGF0dGFjaG1lbnQgPSB3cC5tZWRpYS5hdHRhY2htZW50KGVsKTtcbiAgICAgICAgICAgICAgICAhIWF0dGFjaG1lbnQgPyBhdHRhY2htZW50LmZldGNoKCkgOiBudWxsO1xuICAgICAgICAgICAgICAgIHNlbGVjdGlvbi5hZGQoYXR0YWNobWVudCA/IFthdHRhY2htZW50XSA6IFtdKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBTZWxlY3QgaW1hZ2VzIGV2ZW50XG4gICAgICAgIGZpbGVfZnJhbWUub24oJ3NlbGVjdCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBhdHRhY2htZW50ID0gZmlsZV9mcmFtZS5zdGF0ZSgpLmdldCgnc2VsZWN0aW9uJykudG9KU09OKCksXG4gICAgICAgICAgICAgICAgaW1nc19odG1sID0gJyc7XG5cblxuICAgICAgICAgICAgLy8gRWFjaCBzZWxlY3RlZCBpbWFnZSwgcHVzaCB0aGUgaWQgb2YgaW1hZ2UgdG8gYW4gYXJyYXkgYW5kIHNob3cgaW1hZ2VcbiAgICAgICAgICAgICQuZWFjaChhdHRhY2htZW50LCBmdW5jdGlvbiAoaW5kZXgsIGl0ZW0pIHtcbiAgICAgICAgICAgICAgICBhdHRhY2htZW50X2ljb25faWRzLnB1c2goaXRlbS5pZCk7XG4gICAgICAgICAgICAgICAgaW1nc19odG1sICs9ICc8bGkgZGF0YS1pbWFnZS1pZD1cIicgKyBpdGVtLmlkICsgJ1wiPic7XG4gICAgICAgICAgICAgICAgaW1nc19odG1sICs9ICc8aW1nIHNyYz1cIicgKyBpdGVtLnVybCArICdcIiAvPic7XG4gICAgICAgICAgICAgICAgaW1nc19odG1sICs9ICc8c3BhbiBjbGFzcz1cImRhc2hpY29ucyBkYXNoaWNvbnMtZGlzbWlzc1wiIGRhdGEtaWQ9JyArIGl0ZW0uaWQgKyAnPjwvc3Bhbj4nOyAvLyBCdXR0b24gdG8gcmVtb3ZlIGltYWdlXG4gICAgICAgICAgICAgICAgaW1nc19odG1sICs9ICc8L2xpPic7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgJCgnI2ljb25faW5wdXQnKS52YWwoYXR0YWNobWVudF9pY29uX2lkcy5qb2luKCcsJykpOyAvLyBMaXN0IG9mIGFsbCBpbWFnZXNcbiAgICAgICAgICAgICQoJyNkaXNwbGF5X2ljb24nKS5odG1sKGltZ3NfaHRtbCk7IC8vIFNob3cgaW1hZ2VzXG4gICAgICAgIH0pO1xuICAgICAgICAkKCcjZGlzcGxheV9pY29uJykub24oJ2NsaWNrJywgJy5kYXNoaWNvbnMtZGlzbWlzcycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBpZCA9ICQodGhpcykuZGF0YSgnaWQnKTtcblxuICAgICAgICAgICAgYXR0YWNobWVudF9pY29uX2lkcyA9IGF0dGFjaG1lbnRfaWNvbl9pZHMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0gIT0gaWRcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAkKCcjaWNvbl9pbnB1dCcpLnZhbChhdHRhY2htZW50X2ljb25faWRzLmpvaW4oJywnKSk7XG4gICAgICAgICAgICAkKHRoaXMpLnBhcmVudCgnbGknKS5yZW1vdmUoKTtcblxuICAgICAgICB9KVxuICAgICAgICAvLyBPcGVuIG1lZGlhIHBvcHVwXG4gICAgICAgIGZpbGVfZnJhbWUub3BlbigpO1xuICAgIH0pO1xufSk7XG4iXX0="}